# Places Ingestor Web UI

‡πÄ‡∏ß‡πá‡∏ö UI ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏à‡∏≤‡∏Å Google Places API ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î > ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠ > ‡∏ï‡∏≥‡∏ö‡∏•

## ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥

- üè† **‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà**: Dropdown ‡πÅ‡∏ö‡∏ö‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î ‚Üí ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠ ‚Üí ‡∏ï‡∏≥‡∏ö‡∏•
- üè™ **‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏£‡πâ‡∏≤‡∏ô**: ‡∏à‡∏≤‡∏Å config/terms.yaml ‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏≠‡∏á
- üìç **‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏±‡∏®‡∏°‡∏µ**: ‡∏£‡∏∞‡∏ö‡∏∏‡∏Å‡∏¥‡πÇ‡∏•‡πÄ‡∏°‡∏ï‡∏£ ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏ï‡∏≥‡∏ö‡∏•
- üó∫Ô∏è **‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà**: ‡πÅ‡∏™‡∏î‡∏á markers ‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏û‡∏ö
- üìä **‡∏ï‡∏≤‡∏£‡∏≤‡∏á**: ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏û‡∏£‡πâ‡∏≠‡∏° export CSV
- üîç **‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏ö‡∏ö Real-time**: ‡πÉ‡∏ä‡πâ Google Places API v1

## ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ

### Backend
- **FastAPI** (Python) - REST API server
- **Google Places API v1** - ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤
- **Pandas** - ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
- **Pydantic** - Validation

### Frontend
- **React + Vite** - UI framework
- **Tailwind CSS** - Styling
- **Leaflet** - ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà (OpenStreetMap)
- **Axios** - HTTP client

## ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ç‡∏≠‡∏á
1. Python 3.10+
2. Node.js 18+
3. Google Places API Key (Places API New enabled)

### 1. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ API Key
```bash
# ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå .env ‡∏à‡∏≤‡∏Å project root ‡∏°‡∏≤‡πÉ‡∏™‡πà‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå webui
cp ../.env .
# ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç .env ‡πÅ‡∏•‡∏∞‡πÉ‡∏™‡πà PLACES_API_KEY=your_key_here
```

### 2. ‡πÄ‡∏£‡∏¥‡πà‡∏° Backend (Terminal 1)
```powershell
# Windows PowerShell
.\start_backend.ps1
```

‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏±‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á:
```bash
# ‡∏™‡∏£‡πâ‡∏≤‡∏á virtual environment (‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)
python -m venv .venv
# ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô venv
.\.venv\Scripts\activate  # Windows
source .venv/bin/activate  # macOS/Linux

# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies
pip install -r backend/requirements.txt

# ‡∏£‡∏±‡∏ô backend
cd backend
python start.py
```

Backend ‡∏à‡∏∞‡∏£‡∏±‡∏ô‡∏ó‡∏µ‡πà: http://127.0.0.1:8000

### 3. ‡πÄ‡∏£‡∏¥‡πà‡∏° Frontend (Terminal 2)
```powershell
# Windows PowerShell
.\start_frontend.ps1
```

‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏±‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á:
```bash
cd frontend
npm install  # ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
npm run dev
```

Frontend ‡∏à‡∏∞‡∏£‡∏±‡∏ô‡∏ó‡∏µ‡πà: http://127.0.0.1:5173

## ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

1. **‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà**: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î ‚Üí ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠ ‚Üí ‡∏ï‡∏≥‡∏ö‡∏• ‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö
2. **‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏£‡πâ‡∏≤‡∏ô**: ‡∏à‡∏≤‡∏Å dropdown ‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏≠‡∏á
3. **‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏±‡∏®‡∏°‡∏µ** (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö): ‡πÉ‡∏™‡πà‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏¥‡πÇ‡∏•‡πÄ‡∏°‡∏ï‡∏£
   - ‡∏°‡∏µ‡∏£‡∏±‡∏®‡∏°‡∏µ = ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏ö‡∏ö‡∏ß‡∏á‡∏Å‡∏•‡∏° ‡∏à‡∏≤‡∏Å‡∏à‡∏∏‡∏î‡∏Å‡∏•‡∏≤‡∏á‡∏ï‡∏≥‡∏ö‡∏•
   - ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏±‡∏®‡∏°‡∏µ = ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï‡∏ï‡∏≥‡∏ö‡∏•
4. **‡∏Å‡∏î‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤**: ‡∏£‡∏≠‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
5. **‡∏î‡∏π‡∏ú‡∏•**: ‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏ö‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà
6. **Export CSV**: ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Export CSV

## API Endpoints

### Backend API (http://127.0.0.1:8000)

- `GET /meta/terms` - ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏£‡πâ‡∏≤‡∏ô‡∏à‡∏≤‡∏Å terms.yaml
- `GET /meta/areas/provinces` - ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î
- `GET /meta/areas/amphoes?province_id=XX` - ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏ï‡∏≤‡∏°‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î
- `GET /meta/areas/tambons?amphoe_id=YYY` - ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡∏≥‡∏ö‡∏•‡∏ï‡∏≤‡∏°‡∏≠‡∏≥‡πÄ‡∏†‡∏≠
- `POST /search` - ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Search Request
```json
{
  "province_id": "90",
  "amphoe_id": "9001",
  "tambon_id": "900101",
  "term": "restaurant",
  "freetext": null,
  "language": "th",
  "region": "TH",
  "radius_km": 1.5
}
```

## ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå

```
webui/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ main.py              # FastAPI app
‚îÇ   ‚îú‚îÄ‚îÄ start.py             # ‡πÄ‡∏£‡∏¥‡πà‡∏° server
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt     # Python dependencies
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LocationSelector.jsx  # Cascading dropdowns
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SearchResults.jsx     # ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå + Export
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MapView.jsx           # ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà Leaflet
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.jsx          # Main component
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.css        # Tailwind CSS
‚îÇ   ‚îú‚îÄ‚îÄ package.json         # Node dependencies
‚îÇ   ‚îî‚îÄ‚îÄ tailwind.config.js   # Tailwind config
‚îú‚îÄ‚îÄ start_backend.ps1        # ‡πÄ‡∏£‡∏¥‡πà‡∏° backend
‚îú‚îÄ‚îÄ start_frontend.ps1       # ‡πÄ‡∏£‡∏¥‡πà‡∏° frontend
‚îî‚îÄ‚îÄ README.md               # ‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ
```

## ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### Backend ‡πÑ‡∏°‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Python version (3.10+)
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö `.env` ‡∏°‡∏µ `PLACES_API_KEY`
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö virtual environment active

### Frontend ‡πÑ‡∏°‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Node.js version (18+)
- ‡∏£‡∏±‡∏ô `npm install` ‡πÉ‡∏´‡∏°‡πà
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö backend ‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà port 8000

### CORS Error
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö backend ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï `http://localhost:5173`
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö frontend ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `http://127.0.0.1:8000`

### ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏•‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Google Places API Key
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö API quota/billing
- ‡∏•‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà

## ‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ï‡πà‡∏≠

- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î/‡∏≠‡∏≥‡πÄ‡∏†‡∏≠/‡∏ï‡∏≥‡∏ö‡∏•‡πÉ‡∏ô `admin_areas/*.json`
- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏£‡πâ‡∏≤‡∏ô‡πÉ‡∏ô `config/terms.yaml`
- ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á UI ‡πÉ‡∏ô `frontend/src/components/`
- ‡πÄ‡∏û‡∏¥‡πà‡∏° endpoint ‡πÉ‡∏ô `backend/main.py`